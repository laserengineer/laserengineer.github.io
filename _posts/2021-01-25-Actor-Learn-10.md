---
title: LabVIEW AF_10 Top 5 Actor Overrides & Chat Room
date: 2021-01-31
categories:
  - Study
  - LabVIEW
tags:
  - LabVIEW
  - Actor
---
<span style="color:red">
<span style="font-size: 150%">
First rule of coding - Just write the code.
</span>
</span>

[Tom McQuillan Youtue Channel](https://www.youtube.com/watch?v=2k3ZDwJolbA&list=PLmF-6jvwRvVNFzBjzh4bQDjFbv6lShcth)

[LabVIEW Sample Code](https://github.com/laserengineer/LabVIEW-Study.git)

## Top 5 Actor Overrides & Chat Room Project

<span style="color:yellow">
<span style="font-size: 150%">
Notes:
</span>
</span>

>The source video did not provide every details of the Chat Room Implementation since there will too much trivial. The writer will cover original video content and try to finish the application. The "LabVIEW Sample Code" will contain Tom's code and writer's attempt. Since this is writer's first actor application code, there will are a lot room to improve.


### Top 5 Actor Overrides

Tops 5 Actor overrides lists are following:

1. Pre Launch Init.vi
2. Actor Core.vi
3. Stop Core.vi
4. Handle Last Ack Core.vi
5. Handle Error.vi


<p align="Left"> <img src="/assets/images/LabVIEW Actor Framework/10/Top5 Overrides.png"> </p>

#### Pre Launch Init.vi

Inside Actor.vi, we can find the **Pre Launch Init.vi**, the very top level implementation doesn't do anything. It is a placeholder, an empty diagram.   

<p align="Left"> <img src="/assets/images/LabVIEW Actor Framework/10/Pre Launch Init.png"> </p>

<p align="Left"> <img src="/assets/images/LabVIEW Actor Framework/10/Pre Launch Init2.png"> </p>

One of the implementation is to create different user event to update User Interface in Pre Launch Init.vi. If any error happens, we need follow the best practices to call the "Destroy Events"

<p align="Left"> <img src="/assets/images/LabVIEW Actor Framework/10/Pre Launch Init3.png"> </p>

Inside "Destroy Events", send the stop event and clean the event reference.

<p align="Left"> <img src="/assets/images/LabVIEW Actor Framework/10/Pre Launch Init4.png"> </p>

One thing we **MUST NOT** do is

<span style="color:red">
<span style="font-size: 150%">
DO NOT try to launch nested actors in the pre Launch Init.vi, which will hang system.
</span>
</span>

#### Actor Core.vi

Actor Core will not launch if any happened in Pre Launch Init.vi, and will clean up the reference that open in Pre Launch Init.vi.

Again,
* The Actor Class Private contains the QMS "Cluster" Data
* The Message Class, Contains the QMS "Case Structure" and parameters pass to the QMS "Case Structure"

<p align="Left"> <img src="/assets/images/LabVIEW Actor Framework/10/Actor Core.png"> </p>

One of the implementation is to use Actor Core as UI.
The event handling loop is used in Actor Core to handle
* Value Changes to send message
* User Event to update UI

If we create reference want to pass the core, we need to do it before the parent Implementation of Actor Core.

<p align="Left"> <img src="/assets/images/LabVIEW Actor Framework/10/Actor Core2.png"> </p>

The Chat Window Model Actor Core is not used as UI
<p align="Left"> <img src="/assets/images/LabVIEW Actor Framework/10/Actor Core3.png"> </p>

Before We launch nested actor, a few abstract messages are added nested Actor private data, "Chat Room Name" and nested actor Enqueuer.
UI Class is bundle into Calling Actor "Chat Window Model" private data, do it before parent implementation

#### Handle Error.vi

Error Handle is inside actor core
 <p align="Left"> <img src="/assets/images/LabVIEW Actor Framework/10/Error Handle.png"> </p>

By default, it is empty code but to stop the actor. Sometimes an override is needed prevent certain error to shut down whole actor. We c

<p align="Left"> <img src="/assets/images/LabVIEW Actor Framework/10/Error Handle2.png"> </p>

<p align="Left"> <img src="/assets/images/LabVIEW Actor Framework/10/Error Handle3.png"> </p>

#### Stop Core.vi

#### Handle Last Ack Core.vi



### Chat Room Project
